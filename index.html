<!DOCTYPE html>
<html>

<!--
Epidemiology Simulation Project: Rena Ahn and Anna Muller [last update: 12/28/23]

Section "sim" refers to the container where the grid and user input form are located
  Div "output" refers to the container where the grid and graph are displayed
    Div "grid" refers to the container where the grid canvas elements are added
    Div "graph" refers to the container where the graph with an interactive legend is drawn
      - clicking on the key will hide or show related data
  Div "input" refers to the container where user input and simulation information are located
    Div "simInfo" refers to the container where the simulation information, or output, is located
    Div "form" refers to the container where the sliders and text boxes for user input are located
    Div "config" refers to the container where the json with the simulation variables can be configurated

Improvement Goals...
(1) Validation of UI JSON configuration
(2) A more interactive design (color, layout, ...)
-->

<head>
  <title>Disease Simulation</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <link href="style.css" rel="stylesheet" type="text/css" />
</head>

<body>
  <h1>Disease Simulation v0.2</h1>

  <section id="sim">
    <div id="output">
      <div id="grid">

      </div>
      <div id="graph">
        <div id="data"></div>
        <div id="value"></div>
      </div>
    </div>
    <div id="input">
      <div class="box" id="simInfo">
        <div class="evenDisplay" id="statusDisplay">
          <p id="dayInfo"></p>
          <p id="infectedInfo"></p>
          <p id="immuneInfo"></p>
        </div>
        <div class="evenDisplay" id="dayDisplay">
          <label class="buttonLabel" id="prevLabel" for="prevBtn">
            <button id="prevBtn" style="width: 90px" onclick="subtractDay()">Previous Day</button>
          </label>
          <label class="buttonLabel" id="runUserLabel" for="runUserBtn">
            <button id="runUserBtn" type="submit" style="font-size: medium" onclick="playSim()">Start Outbreak</button>
          </label>
          <label class="buttonLabel" id="nextLabel" for="nextBtn">
              <button id="nextBtn" style="width: 90px" onclick="addDay()">Next Day</button>
          </label>
        </div>
        <div class="evenDisplay" id="colorLegend">
          <div class="evenDisplay" style="margin-bottom: 0px">
            <div class="square blue" id="healthyKey"></div>
            <p style="color: blue; margin-right: 10px; margin-bottom: 0px">Uninfected</p>
          </div>
          <div class="evenDisplay" style="margin-bottom: 0px">
            <div class="square red" id="asymptomaticKey"></div>
            <p style="color: red; margin-right: 10px; margin-bottom: 0px">New/Asymptomatic Infected</p>
          </div>
          <div class="evenDisplay" style="margin-bottom: 0px">
            <div class="square yellow" id="symptomaticKey"></div>
            <p style="color: #f0f000; margin-right: 10px; margin-bottom: 0px">Symptomatic Infected</p>
          </div>
          <div class="evenDisplay" style="margin-bottom: 0px">
            <div class="square green" id="immuneKey"></div>
            <p style="color: green; margin-right: 10px; margin-bottom: 0px">Immune Post Infection</p>
          </div>
        </div>
        <p id="maxDayInfo" style="text-align: center"></p>
        <label class="buttonLabel" id="rerunLabel" for="rerunBtn">
          <button id="rerunBtn" onclick="reRun()">Restart Outbreak</button>
        </label>
      </div>
      <div class="box" id="form" style="text-align: center">
        <label>Options</label>
        <br>
        <label id="diseaseLabel" for="diseaseText">Disease
          <select id="diseaseText">
            <option value="Measles">Measles</option>
            <option value="Rubella">Rubella</option>
            <option value="Covid">Covid</option>
          </select>
        </label>
        <br><br>
        <label id="maskLabel" for="maskText">Mask Rate (0-100)
          <input id="maskText" type="text" value="0"></input>
        </label>
        <br><br>
        <label id="vaccLabel" for="vaccText">Vaccine Rate (0-100)
          <input id="vaccText" type="text" value="0"></input>
        </label>
        <br><br>
        <label id="gridLabel" for="gridText">Social Distancing
          <select id="gridText">
            <option value="13">Low</option>
            <option value="14">Medium</option>
            <option value="15">High</option>
          </select>
        </label>
      </div>
      <label class="buttonLabel" id="toggleLabel" for="toggle" style="margin-bottom: 10px">
        <button id="toggle" onclick="showOptions()">Show Advanced Options</button>
      </label>
      <div class="box" id="config">
        <label id="jsonLabel" for="jsonText" style="text-align: center">Advanced Options
          <br>
          <textarea id="jsonText" rows="20" cols="50"></textarea>
        </label>
        <br>
        <label class="buttonLabel" id="runConfigLabel" for="runConfigBtn">
          <button id="runCongigBtn" type="submit" onclick="runConfigSim()">Reconfigure and Run</button>
        </label>
      </div>
    </div>
  </section>
</body>
</html>

<script src="https://d3js.org/d3.v4.js"></script>
<script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/seedrandom/3.0.5/seedrandom.min.js"></script>
<script src="temp.js"></script>
